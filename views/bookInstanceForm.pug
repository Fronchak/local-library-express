extends layout 

block content 

    h1= title

    form(method="POST" action="")
        div.form-group 
            h5 
                label(for="book") Book
            select#book.form-control(type="select" placeholder='Book' name="book" required="true")
                - books.sort(function(a, b) {
                    - let textA = a.title.toUpperCase();
                    - let textB = b.title.toUpperCase();
                    - return (textA < textB) ? -1 : (textA > textB) ? 1 : 0;
                - })
                for book in books 
                    option(value=book._id selected=(selectedBook===book._id.toString() ? "selected" : false)) #{book.title}

        div.form-group 
            h5 
                label(for="imprint") Imprint: 
            input#imprint.form-control(type="text" placeholder="Publisher and date information" name="imprint" required="true"
            value=(undefined===bookInstance ? "" : bookInstance.imprint)) 

        div.form-group 
            h5 
                label(for="due_back") Date when book will be available: 
            input#due_back.form-control(type="date" name="due_back"
            value=(undefined===bookInstance ? "" : bookInstance.due_back))

        div.form-group 
            h5 
                label(for="status") Status: 
            select#status.form-control(type="select" name="status" required="true")
                option(value="Available") Available
                option(value="Loaned") Loaned 
                option(value="Maintenance") Maintenance 
                option(value="Reserved") Reserved

        button.btn.btn-primary(type="submit") Submit

    if errors 
        ul(style="margin-top:10px;") 
            each error in errors 
                li 
                    span.text-danger #{error.msg}